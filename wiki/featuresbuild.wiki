#summary Functional Capabilities of URM - Build Projects
[home] -> [documentation] -> [features] -> [featuresbuild]

Explains how to build projects using URM.

<wiki:toc max_depth="2" />
----

= Define Java environment =

  * URM is able to build projects using different jdk versions and settings
  * default product jdk is defined in config.sh:
{{{
C_CONFIG_JAVA_VERSION=jdk1.6.0_29
specific jdk version should be located in folder under /usr/java
}}}
  * to override default jdk version for selected projects belonging to product set, specify version in source.xml:
{{{
<project name="pgu-techportal" vcs="git" version="branch" javaversion="jdk1.7.0_45" ...
}}}
    
= Define Maven environment =

  * URM is able to build projects using different maven versions and settings
  * maven configuration file is defined in config.sh
{{{
to avoid confusing builds, use build modes:
if [ "$VERSION_MODE" = "branch" ]; then
	C_CONFIG_MAVEN_CFGFILE=~/.m2/settings.branch.xml

predefined build modes: devtrunk, devbranch, trunk, branch, majorbranch
}}}
  * maven configuration file defines local repository and login to access nexus
{{{
local repository location:
<localRepository>/release/release-mgn/.m2/repository.branch</localRepository>
}}}
  * secured login to access nexus repository:
{{{
settings-security.xml defines master key -
<settingsSecurity>
	<master>(encrypted master password)</master>
</settingsSecurity>

create master password using:
mvn --encrypt-master-password <password>
}}}
  * maven configuration file defins builder user and password:
{{{
    <server>
      <id>nexus</id>
      <username>builder</username>
      <password>(encrypted builder password)</password>
    </server>

create builder password using:
mvn --encrypt-password <password>
}}}
  * to use specific maven version:
{{{
default maven version to build product projects:
C_CONFIG_MAVEN_VERSION=2.2.1
specific maven version should be located in /usr/local/apache-maven-<version>

you can customize maven version for specific project using:
<project name="esb" vcs="svnnew" version="branch" javaversion="jdk1.7.0_45" mavenversion="3.1.1" ...
}}}
  * to define product-aligned maven options
{{{
C_CONFIG_MAVEN_ADDITIONAL_OPTIONS="-e"
C_CONFIG_MAVEN_PROFILES="all-components,all-modules"
}}}

= Define Nexus environment =

  * TBD

= Build product codebase =

  * TBD

= Release builds =

  * TBD