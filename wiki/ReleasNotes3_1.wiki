#summary URM Releases
[home] -> [releases] -> [ReleasNotes3_0]

Release 3.0 notes.

<wiki:toc max_depth="2" />
----

= Change List =

|| ID || *Change* || *Documentation updated* ||
|| 1 || || ||

= Common Changes =

== TBD ==

= Deployment Changes =

== Upgrading Environment ==

  * add upgradeenv.sh - simplify apply maintenance changes like timezone patches to environment hosts
  * rely on interface patch scripts, e.g. upgrade-001-JDK7.67.sh:
{{{
P_HOSTLOGIN=$1

# get root hostlogin
P_HOSTROOT=root@${P_HOSTLOGIN#*@}

# upgrade java
x=`ssh $P_HOSTROOT "mkdir -p /usr/java; ls /usr/java | grep jdk1.7.0_67"`
if [ "$x" = "" ] || [ "$GETOPT_FORCE" = "yes" ]; then
	scp /distr/common/base/jdk1.7.0_67/jdk-7u67-linux-x64.tar $P_HOSTROOT:~/
	if [ "$?" != "0" ]; then
		exit 1
	fi

	ssh $P_HOSTROOT "rm -rf /usr/java/jdk1.7*; cd /usr/java; tar xf ~/jdk-7u67-linux-x64.tar"
	if [ "$?" != "0" ]; then
		exit 1
	fi
fi

# change java version
ssh $P_HOSTLOGIN "sed -i \"s/export JAVA_HOME=\/usr\/java\/jdk1\.7.*/export \
JAVA_HOME=\/usr\/java\/jdk1.7.0_67/\" .profile"
if [ "$?" != "0" ]; then
	exit 1
fi

exit 0
}}}
  * interface script
   * is localed in directory $C_CONFIG_UPGRADEPATH
   * may contain anything - yum install or rpm provided or custom updates
   * can be called directly without using shurm to patch specific host from administration host
  * upgradeenv.sh executes interface script for all unique hosts referenced by environment servers and makes logging on calling and upgrade side and accounting on upgrade side
  * accounting allows to skip duplicated upgrades and know about patches applied to host:
{{{
[root@u01pguapp01 ~]# cat upgrade.data
id=002-TZ.2014.APP.EL6:ok
}}}
  * examples:
{{{
upgrade all env hosts
./upgradeenv.sh 001-JDK7.67

upgrade env hosts of given servers under root user
./upgradeenv.sh -root 001-JDK7.67 pguapp commapp

force upgrade given env hosts even if uprade was already performed
./upgradeenv.sh -force 001-JDK7.67 pguapp commapp
}}}

= Minors =

  * TBD

= Bugfixes =

  * TBD