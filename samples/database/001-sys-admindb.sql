drop user <ADMSCHEMA> cascade;

create user <ADMSCHEMA> identified by <ADMSCHEMA>;
grant connect, resource to <ADMSCHEMA>;
grant all privileges to <ADMSCHEMA>;

  CREATE TABLE <ADMSCHEMA>.<ADMINDB_RELEASES>
   (	"RELEASE" VARCHAR2(30),
	"REL_P1" NUMBER(6,0) DEFAULT 0,
	"REL_P2" NUMBER(6,0) DEFAULT 0,
	"REL_P3" NUMBER(6,0) DEFAULT 0,
	"REL_P4" NUMBER(6,0) DEFAULT 0,
	"BEGIN_APPLY_TIME" DATE,
	"END_APPLY_TIME" DATE,
	"REL_STATUS" CHAR(1)
   ) ;

  ALTER TABLE <ADMSCHEMA>.<ADMINDB_RELEASES> ADD CONSTRAINT "<ADMINDB_RELEASES>_PK" PRIMARY KEY ("RELEASE");

  CREATE TABLE <ADMSCHEMA>.<ADMINDB_SCRIPTS>
   (	"RELEASE" VARCHAR2(30),
	"SCHEMA" VARCHAR2(30),
	"ID" NUMBER(*,0),
	"FILENAME" VARCHAR2(255),
	"UPDATETIME" DATE,
	"UPDATEUSERID" VARCHAR2(30),
	"SCRIPT_STATUS" CHAR(1)
   );

  ALTER TABLE <ADMSCHEMA>.<ADMINDB_SCRIPTS> ADD CONSTRAINT "<ADMINDB_SCRIPTS>_PK" PRIMARY KEY ("RELEASE", "SCHEMA", "ID");
  ALTER TABLE <ADMSCHEMA>.<ADMINDB_SCRIPTS> ADD CONSTRAINT "FK_SCRIPTS_RELEASE" FOREIGN KEY ("RELEASE")
	  REFERENCES <ADMSCHEMA>.<ADMINDB_RELEASES> ("RELEASE") ENABLE;

  CREATE INDEX <ADMSCHEMA>."<ADMINDB_SCRIPTS>_FK1" ON <ADMSCHEMA>.<ADMINDB_SCRIPTS> ("RELEASE");

grant select, update, insert, delete on <ADMSCHEMA>.<ADMINDB_RELEASES> to <SCHEMA>;
grant select, update, insert, delete on <ADMSCHEMA>.<ADMINDB_SCRIPTS> to <SCHEMA>;

